"use strict";angular.module("tulipanTranslateApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$compileProvider",function(a){a.aHrefSanitizationWhitelist(/^\s*(https?|whatsapp|file|tel):/)}]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/traducir",{templateUrl:"views/deco.html",controller:"DecoCtrl",controllerAs:"deco"}).otherwise({redirectTo:"/"})}]),angular.module("tulipanTranslateApp").controller("MainCtrl",["$window","$scope","$rootScope","$http",function(a,b,c,d){c.currentActive="translate";var e=new MobileDetect(window.navigator.userAgent),f={emptyMessage:"Tu mensaje es muy corto. Por lo menos escribe 30 letras.",emptyNickName:"No te olvides tu apodo, al menos 5 letras o números sin espacios.",wrongChar:"Tu mensaje o apodo tiene letras no válidas, usá solo letras, números y puntuación y vuelve a intentarlo",duplicatedNickName:"Parece que tu apodo ya fue usado. Proba con alguno de estos: "};d.get("https://spreadsheets.google.com/feeds/list/1DF9DsfaR1tjoQvRl7bwj30loKWgR7kDx0e6PBM1EksU/1/public/values?alt=json").then(function(a){for(var c=a.data.feed.entry,d=[],e=0;e<c.length;e++){var f=c[e],g=f.gsx$frases.$t;d.push(g)}b.phrases=d}),b.translate=function(){b.onSubmitError=!1;var a=g();if(a)b.onSubmitError=!0;else{var c=b.phrases[Math.floor(Math.random()*b.phrases.length)],d=b.from.split(" ").join("");b.translation=c+String.fromCharCode(55356,57143)+d,e.mobile()?(b.translatedMobile=!0,b.translatedDesktop=!1):(b.translatedMobile=!1,b.translatedDesktop=!0)}};var g=function(){var a=!1,c=b.message,d=b.from,e=/^[\w., A-zÀ-ú]+$/,g=/^[\w., ]+$/;return!c||c.length<10||c.trim()<4?(a=!0,b.errorMessage=f.emptyMessage):!d||d.trim()<5?(a=!0,b.errorMessage=f.emptyNickName):e.test(c)&&g.test(d)||(a=!0,b.errorMessage=f.wrongChar),a};b.copyMessage=function(){a.document.getElementById("translation").select(),document.execCommand("Copy"),alert("Copiamos tu traducción usala donde quieras.")}}]),angular.module("tulipanTranslateApp").controller("DecoCtrl",["$window","$rootScope","$scope","$http",function(a,b,c,d){b.currentActive="deco";var e=new MobileDetect(window.navigator.userAgent),f={emptyMessage:"El mensaje que pusiste es muy corto. Revisalo y no te olvides de "+String.fromCharCode(55356,57143),emtpyTulip:"¿Pusiste "+String.fromCharCode(55356,57143)+" ? No te lo olvides!",wrongChar:"Tu mensaje tiene letras no válidos, usa solo letras, números y puntuación y vuelve a intentarlo",duplicatedNickName:"Parece que tu apodo ya fue usado. Proba con alguno de estos: "};c.translate=function(){c.onSubmitError=!1;var a=g();a?c.onSubmitError=!0:(c.translation="Aca deberia ir tu mensaje traducido. Que cosas sucias dijiste.",e.mobile()?(c.translatedMobile=!0,c.translatedDesktop=!1):(c.translatedMobile=!1,c.translatedDesktop=!0))};var g=function(){var a=!1,b=c.message;return(!b||b.length<10||b.trim()<4)&&(a=!0,c.errorMessage=f.emptyMessage),/[\uD83C-\uDF37]/.test(b)||(a=!0,c.errorMessage=f.emtpyTulip),a}}]),angular.module("tulipanTranslateApp").run(["$templateCache",function(a){a.put("views/deco.html",'<div class="col-xs-12"> <div class="row" ng-hide="translatedMobile" ng-cloak> <div class="translate-inn col-xs-12"> <div class="row"> <div class="col-xs-12 col-md-6"> <div class="row"> <div class="col-xs-12"> <h3>Mensaje recibido:</h3> </div> <div class="col-xs-12"> <textarea ng-model="message" maxlength="250" class="textarea" placeholder="Copiá y pegá el mensaje que recibiste. Con &#127799; y Nombre!"></textarea> </div> <div class="col-xs-12"> <hr> </div> </div> </div> <div class="col-xs-0 col-md-6 show-desktop"> <div class="col-xs-12"> <h3>Traducción:</h3> </div> <div class="col-xs-12"> <textarea maxlength="150" ng-model="translation" readonly class="textarea translation"></textarea> </div> </div> <div class="col-xs-12 error" ng-show="onSubmitError"> <div class="row"> <div class="col-md-3"> <p></p> </div> <div class="col-xs-2 col-md-1"> <a class="waves-effect waves-light btn share" href=""><i class="fa fa-exclamation fa-1" aria-hidden="true"></i></a> </div> <div class="col-xs-10 col-md-4"> <p>{{errorMessage}}</p> </div> <div class="col-md-4"> <p></p> </div> </div> </div> <div class="col-xs-12 action" ng-hide="translatedDesktop"> <a class="waves-effect waves-light btn submit" ng-click="translate()">traducir</a> </div> <div class="col-xs-12" ng-show="translatedDesktop"> <a href="/" class="waves-effect waves-light btn submit">Respondele</a> </div> </div> </div> </div> </div> <div ng-show="translatedMobile " ng-cloak class="row hide-desktop"> <div class="translate-inn col-xs-12"> <div class="row"> <div class="col-xs-12"> <h3>Mensaje recibido:</h3> </div> <div class="col-xs-12"> <textarea ng-model="message " maxlength="150 " readonly class="textarea translation"></textarea> </div> <div class="col-xs-12"> <hr> </div> <div class="col-xs-12"> <h3>Traducción:</h3> </div> <div class="col-xs-12"> <textarea id="translation " maxlength="150 " ng-model="translation " readonly class="textarea translation"></textarea> </div> </div> <div class="col-xs-12"> <div class="row"> <a href="/" class="waves-effect waves-light btn submit">Respondele</a> </div> </div> </div> </div>'),a.put("views/main.html",'<div class="col-xs-12"> <div class="row" ng-hide="translatedMobile" ng-cloak> <div class="translate-inn col-xs-12"> <div class="row"> <div class="col-xs-12 col-md-6"> <div class="row"> <div class="col-xs-12"> <h3>Tu mensaje:</h3> </div> <div class="col-xs-12"> <textarea ng-model="message" maxlength="150" class="textarea" placeholder="Escribí tu mensaje picante en 150 caracteres…"></textarea> </div> <div class="col-xs-12"> <hr> </div> <div class="col-xs-12"> <h3>Tu apodo:</h3> </div> <div class="col-xs-12"> <input type="text" maxlength="33" ng-model="from" class="textarea" placeholder="Escribí un apodo. Al 5 letras o números sin espacios."> </div> </div> </div> <div class="col-xs-0 col-md-6 show-desktop"> <div class="col-xs-12"> <h3>Traducción:</h3> </div> <div class="col-xs-12"> <textarea maxlength="150" ng-model="translation" readonly class="textarea translation"></textarea> </div> </div> <div class="col-xs-12 error" ng-show="onSubmitError"> <div class="row"> <div class="col-md-3"> <p></p> </div> <div class="col-xs-2 col-md-1"> <a class="waves-effect waves-light btn share" href=""><i class="fa fa-exclamation fa-1" aria-hidden="true"></i></a> </div> <div class="col-xs-10 col-md-4"> <p>{{errorMessage}}</p> </div> <div class="col-md-4"> <p></p> </div> </div> </div> <div class="col-xs-12 action" ng-hide="translatedDesktop"> <a class="waves-effect waves-light btn submit" ng-click="translate()">traducir</a> </div> <div class="col-xs-12" ng-show="translatedDesktop"> <div class="row"> <div class="col-xs-12"> <h3 class="upper center">Envialo por</h3> </div> </div> <div class="row"> <div class="col-xs-12 share-menu"> <a class="waves-effect waves-light btn share" href=""><i class="fa fa-facebook fa-2" aria-hidden="true"></i></a> <a ng-href="https://web.whatsapp.com/send?text={{translation}}" target="_blank" class="waves-effect waves-light btn share show-desktop" href=""><i class="fa fa-whatsapp fa-2" aria-hidden="true"></i></a> <a ng-href="https://twitter.com/messages/compose?text={{translation}}" target="_blank" class="waves-effect waves-light btn share" href=""><i class="fa fa-twitter fa-2" aria-hidden="true"></i></a> <a ng-click="copyMessage()" target="_blank" class="waves-effect waves-light btn share" href=""><i class="fa fa-clone fa-2" aria-hidden="true"></i></a> </div> </div> </div> </div> </div> </div> </div> <div ng-show="translatedMobile" ng-cloak class="row hide-desktop"> <div class="translate-inn col-xs-12"> <div class="row"> <div class="col-xs-12"> <h3>Mensaje Original:</h3> </div> <div class="col-xs-12"> <textarea ng-model="message" maxlength="150" readonly class="textarea translation"></textarea> </div> <div class="col-xs-12"> <hr> </div> <div class="col-xs-12"> <h3>Traducción:</h3> </div> <div class="col-xs-12"> <textarea id="translation" maxlength="150" ng-model="translation" readonly class="textarea translation"></textarea> </div> </div> <div class="col-xs-12"> <div class="row"> <div class="col-xs-12"> <h3 class="upper center">Envialo por</h3> </div> </div> <div class="row"> <div class="col-xs-12 share-menu"> <a class="waves-effect waves-light btn share" href=""><i class="fa fa-facebook fa-2" aria-hidden="true"></i></a> <a ng-href="https://web.whatsapp.com/send?text={{translation}}" target="_blank" class="waves-effect waves-light btn share show-desktop" href=""><i class="fa fa-whatsapp fa-2" aria-hidden="true"></i></a> <a ng-href="whatsapp://send?text={{translation}}" target="_blank" class="waves-effect waves-light btn share hide-desktop" href=""><i class="fa fa-whatsapp fa-2" aria-hidden="true"></i></a> <a ng-href="https://twitter.com/messages/compose?text={{translation}}" target="_blank" class="waves-effect waves-light btn share" href=""><i class="fa fa-twitter fa-2" aria-hidden="true"></i></a> <a ng-click="copyMessage()" target="_blank" class="waves-effect waves-light btn share" href=""><i class="fa fa-clone fa-2" aria-hidden="true"></i></a> </div> </div> </div> </div> </div>')}]);